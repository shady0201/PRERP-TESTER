<UserControl x:Class="PRERP_TESTER.Views.ModuleView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf">

	<Grid Background="#F4F7F9">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Border Grid.Row="0" Padding="20,15" Background="White">
			<StackPanel>
				<TextBlock Text="Workspace" FontSize="18" FontWeight="Bold" Foreground="#333"/>
				<TextBlock Text="Chọn module -> Chọn tài khoản -> Tabs" Foreground="#888" FontSize="12"/>
			</StackPanel>
		</Border>

		<Border Grid.Row="1" Background="White" BorderBrush="#EEE" BorderThickness="0,1">
			<StackPanel Orientation="Horizontal" Margin="15,5">
				<ListBox ItemsSource="{Binding Accounts}"
                         SelectedItem="{Binding SelectedAccount}"
                         ItemContainerStyle="{StaticResource AccountTabItemStyle}"
                         Background="Transparent" BorderThickness="0">
					<ListBox.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel Orientation="Horizontal"/>
						</ItemsPanelTemplate>
					</ListBox.ItemsPanel>
					<ListBox.ItemTemplate>
						<DataTemplate>
							<TextBlock Text="{Binding DisplayName}" Foreground="White" FontWeight="Medium"/>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>

				<Button Content="+ Add account" Margin="10,0" Padding="10,2"
                        Background="Transparent" BorderBrush="#DDD" BorderThickness="1"/>
			</StackPanel>
		</Border>

		<TabControl Grid.Row="2"
                    ItemsSource="{Binding Accounts}"
                    SelectedItem="{Binding SelectedAccount}"
                    BorderThickness="0" Background="Transparent">

			<TabControl.ItemContainerStyle>
				<Style TargetType="TabItem">
					<Setter Property="Visibility" Value="Collapsed"/>
				</Style>
			</TabControl.ItemContainerStyle>

			<TabControl.ContentTemplate>
				<DataTemplate>
					<Grid>
						<wv2:WebView2 Source="{Binding CurrentUrl}"
                                      Margin="10" />
					</Grid>
				</DataTemplate>
			</TabControl.ContentTemplate>
		</TabControl>
	</Grid>
</UserControl>