<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks">

    <DataTemplate x:Key="AccountItem">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <iconPacks:PackIconMaterial x:Name="AccIcon"
                                            Kind="Account" 
                                            Grid.Column="0"
                                            Foreground="#FF777777"
                                            VerticalAlignment="Center"
                                            Width="14" Height="14"
                                            Margin="5,0,0,0"/>
            <TextBlock x:Name="AccText"
                           Grid.Column="1"
                           VerticalAlignment="Center"
                           Foreground="#FF777777"
                           Text="{Binding Account.DisplayName}"
                           MaxWidth="120"
                           TextTrimming="CharacterEllipsis"
                           Margin="5,0,0,0"/>

            <Button x:Name="DeleteBtn"
                        Grid.Column="2"
                        Opacity="0"
                        Command="{Binding DataContext.RemoveAccountFromModuleCommand,
                                  RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                  CommandParameter="{Binding}"
                        Style="{StaticResource DeleteButtonStyle}"
                        Cursor="Hand"
                        Margin="10,0,5,0">
                <iconPacks:PackIconMaterial x:Name="iconRemove" Kind="Close" 
                                                Width="10" Height="10"
                                                Foreground="#FF777777"/>
            </Button>
        </Grid>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                <Setter TargetName="DeleteBtn" Property="Opacity" Value="1"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding IsSelected}" Value="True">
                <Setter TargetName="AccIcon" Property="Foreground" Value="White"/>
                <Setter TargetName="AccText" Property="Foreground" Value="White"/>
                <Setter TargetName="AccText" Property="FontWeight" Value="Bold"/>
                <Setter TargetName="iconRemove" Property="Foreground" Value="White"/>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

</ResourceDictionary>